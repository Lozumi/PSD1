# 洛衣的C学习笔记 基础篇

# 概述

本文用于记录C语言基础内容的学习，主要是书籍要点的记录。

因学习要点是C++，本文仅对C特有的内容进行记录。

阅读参考书：本人选择了《C Primer Plus（第六版）》，硬啃全本。每个章节阅读完成后，选择部分练习题实操。入门阶段阅读1~15章。

- 第1、2章介绍了C语言编程的预备知识。
- 第3~15章详细讲解了C语言的相关知识。

# 学习笔记

## Chap.1 预备

## Chap.2 变量和基本类型

### 1.1 数据类型和表达式

1.运算符及其优先级、结合性![pic1](E:\CS Proj\LE_Learning\WeeklyReport\Week2\pic1.png)

+ 注意

  + 结合方向只有三个是从右往左，其余都是从左往右。

  + 所有双目运算符中只有赋值运算符的结合方向是从右往左。
  + 另外两个从右往左结合的运算符也很好记，因为它们很特殊：一个是单目运算符，一个是三目运算符。
  + C语言中有且只有一个三目运算符。
  + 逗号运算符的优先级最低，要记住。
  + 此外要记住，对于优先级：算术运算符 > 关系运算符 > 逻辑运算符 > 赋值运算符。逻辑运算符中“逻辑非 !”除外。

+ 一些容易出错的优先级问题

  上表中，优先级同为1 的几种运算符如果同时出现，那怎么确定表达式的优先级呢？这是很多初学者迷糊的地方。下表就整理了这些容易出错的情况：

| 优先级问题                                    | 表达式               | 经常误认为的结果                                        | 实际结果                                                     |
| --------------------------------------------- | -------------------- | ------------------------------------------------------- | ------------------------------------------------------------ |
| . 的优先级高于 *（-> 操作符用于消除这个问题） | *p.f                 | p 所指对象的字段 f，等价于： (*p).f                     | 对 p 取 f 偏移，作为指针，然后进行解除引用操作，等价于： *(p.f) |
| [] 高于 *                                     | int *ap[]            | ap 是个指向 int 数组的指针，等价于： int (*ap)[]        | ap 是个元素为 int 指针的数组，等价于： int *(ap [])          |
| 函数 () 高于 *                                | int *fp()            | fp 是个函数指针，所指函数返回 int，等价于： int (*fp)() | fp 是个函数，返回 int*，等价于： int* ( fp() )               |
| == 和 != 高于位操作                           | (val & mask != 0)    | (val &mask) != 0                                        | val & (mask != 0)                                            |
| == 和 != 高于赋值符                           | c = getchar() != EOF | (c = getchar()) != EOF                                  | c = (getchar() != EOF)                                       |
| 算术运算符高于位移 运算符                     | msb << 4 + lsb       | (msb << 4) + lsb                                        | msb << (4 + lsb)                                             |
| 逗号运算符在所有运 算符中优先级最低           | i = 1, 2             | i = (1,2)                                               | (i = 1), 2                                                   |

2.C语言基本数据类型

| 类型名称       | 类型标识符  | printf标志 | 占字节数 | 表示范围                             | 无符号标识      | 无符号表示范围 |
| -------------- | ----------- | ---------- | -------- | ------------------------------------ | --------------- | -------------- |
| 字符型         | char        | %c         | 1B       | 0-255                                | unsigned　char  | 0-255          |
| 短整型         | short       | %hd        | 2B       | -32768~32767                         | unsigned  short | 0-2^16-1       |
| 整型           | int         | %d         | 4B       | -2^31~2^31-1(-2147483648-2147483647) | unsigned  int   | 0-2^32-1       |
| 长整型         | long        | %ld        | 4B       | -2^31~2^31-1                         | unsigned long   | 0-2^32-1       |
| 浮点型         | float       | %f         | 4B       | 3.4E(-38)~3.4E(38)                   |                 |                |
| 双精度浮点型   | double      | %lf        | 8B       | 1.7E(-308)~1.7E(308)                 |                 |                |
| 长双精度浮点型 | long double |            | 同上/12B | 同上/1.2E(-4932)~1.2E(4932)          |                 |                |

1. 浮点型表示范围说明：

float :   1bit 符号位 　　  8bits 指数位(-127 + 128) -3.40E+38 +3.40E+38 　　  23bits 尾数位

2. 双精度浮点型表示范围说明：
   double: 1bit 符号位 　　 11bits 指数位(-1023 +1024) -1.79E+308 +1.79E+308　　52bits 尾数位

**参考资料**

 [C语言运算符优先级和结合性一览表 (biancheng.net)](http://c.biancheng.net/view/161.html)

 [C语言基本数据类型_Aspiresky的博客-CSDN博客](